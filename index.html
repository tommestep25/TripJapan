<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡πÑ‡∏õ‡∏î‡∏π‡∏´‡∏¥‡∏°‡∏∞</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
body {
     font-family: 'Arial', sans-serif;
     background-image: url('https://wallpapercat.com/w/full/3/1/7/119871-3840x2160-desktop-4k-japan-wallpaper-image.jpg');
     background-size: cover;
     background-position: center;
     background-attachment: fixed;
     background-repeat: no-repeat;
     color: #333;
     line-height: 1.6;
     min-height: 100vh;
 }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #2c3e50;
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .trip-info {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .info-card {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border-left: 4px solid #3498db;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .itinerary-section, .map-section {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .day-card {
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 100%);
            margin: 20px 0;
            padding: 25px;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
        }
        
        .day-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
        }
        
        .day-card.active {
            border-color: #3498db;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }
        
        .day-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .day-number {
            background: #2c3e50;
            color: white;
            padding: 10px 15px;
            border-radius: 50px;
            font-weight: bold;
        }
        
        .day-date {
            color: #666;
            font-size: 0.9em;
        }
        
        .activities {
            margin-top: 15px;
        }
        
        .activity {
            background: rgba(255,255,255,0.7);
            padding: 10px 15px;
            margin: 8px 0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .activity-icon {
            font-size: 1.2em;
        }
        
        #map {
            height: 500px;
            border-radius: 15px;
            border: 3px solid #ddd;
        }
        
        .budget-section {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-top: 30px;
        }
        
        .budget-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .budget-card {
            background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
            padding: 20px;
            border-radius: 15px;
            text-align: center;
        }
        
        .price {
            font-size: 1.5em;
            font-weight: bold;
            color: #2c3e50;
        }
        
        .route-info {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            border-left: 4px solid #2196f3;
        }
        
        .special-highlight {
            background: linear-gradient(135deg, #ffd89b 0%, #19547b 100%);
            color: white;
            padding: 20px;
            border-radius: 15px;
            margin: 15px 0;
            text-align: center;
        }
        
        .warning {
            background: #fff3cd;
            color: #856404;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #ffeaa7;
            margin: 15px 0;
        }
        
        .calculator-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-top: 20px;
        }
        
        .input-section, .result-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            border: 2px solid #e9ecef;
        }
        
        .calculator-grid {
            display: grid;
            gap: 15px;
        }
        
        .calc-card {
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .calc-card label {
            display: block;
            font-weight: bold;
            margin-bottom: 8px;
            color: #2c3e50;
        }
        
        .calc-card input[type="range"] {
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: #ddd;
            outline: none;
            margin: 10px 0;
        }
        
        .calc-card input[type="range"]::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #3498db;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        .value-display {
            text-align: center;
            font-weight: bold;
            color: #27ae60;
            padding: 5px;
            background: #e8f5e8;
            border-radius: 5px;
        }
        
        .total-display {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 20px 0;
        }
        
        .total-per-person, .total-group {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border-radius: 15px;
        }
        
        .big-number {
            font-size: 2em;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .budget-status {
            text-align: center;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-weight: bold;
        }
        
        .status-good {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status-warning {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        
        .status-danger {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        
        .breakdown-chart {
            margin-top: 20px;
        }
        
        .chart-container {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #ddd;
        }
        
        .chart-bar {
            display: flex;
            align-items: center;
            margin: 8px 0;
            font-size: 0.9em;
        }
        
        .bar {
            height: 20px;
            border-radius: 10px;
            margin-right: 10px;
            transition: all 0.3s ease;
        }
        
        .flight-bar { background: linear-gradient(45deg, #FF6B6B, #FF8E8E); }
        .hotel-bar { background: linear-gradient(45deg, #4ECDC4, #7FDDDC); }
        .car-bar { background: linear-gradient(45deg, #45B7D1, #6BC7E8); }
        .ticket-bar { background: linear-gradient(45deg, #96CEB4, #B8E6C1); }
        .food-bar { background: linear-gradient(45deg, #FECA57, #FED57A); }
        .shopping-bar { background: linear-gradient(45deg, #FF9FF3, #F368E0); }
        
        .reset-button-container {
            text-align: center;
            margin-bottom: 15px;
        }
        
        .reset-button {
            background: linear-gradient(45deg, #ff7675, #fd79a8);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .reset-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2em;
            }
            
            .trip-info {
                grid-template-columns: 1fr;
            }
            
            .calculator-container {
                grid-template-columns: 1fr;
            }
            
            .total-display {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1><img style="height: 30px;" src="https://w7.pngwing.com/pngs/301/302/png-transparent-japan-torii-idea-sticker-t-shirt-japan-logo-sticker-art.png"> Japan Road Trip Adventure</h1>
            <p>‡∏Å‡∏≤‡∏£‡∏ó‡πà‡∏≠‡∏á‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ç‡∏µ‡πà‡∏õ‡∏∏‡πà‡∏ô 6 ‡∏ß‡∏±‡∏ô 7 ‡∏Ñ‡∏∑‡∏ô | 6 ‡∏Ñ‡∏ô</p>
            
            <div class="trip-info">
                <div class="info-card">
                    <h3>üìÖ ‡∏ß‡∏±‡∏ô‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</h3>
                    <p>4-10 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° 2025</p>
                </div>

                <div class="info-card">
                    <h3>üí∞ ‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì</h3>
                    <p>30,000-40,000 ‡∏ö‡∏≤‡∏ó/‡∏Ñ‡∏ô</p>
                </div>

            </div>
        </div>

        <div class="main-content">
            <div class="itinerary-section">
                <h2>üóìÔ∏è ‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</h2>
                
                <div class="day-card" data-day="1">
                    <div class="day-header">
                        <div class="day-number">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 1</div>
                        <div class="day-date">4 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° - ‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô</div>
                    </div>
                    <div class="activities">
                        <div class="activity">
                            <span class="activity-icon">‚úàÔ∏è</span>
                            <span>‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡πÑ‡∏ó‡∏¢ ‚Üí ‡∏ô‡∏≤‡∏£‡∏¥‡∏ï‡∏∞ (‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ö‡∏¥‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô)</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üõ¨</span>
                            <span>‡πÄ‡∏ä‡πâ‡∏≤: ‡∏ñ‡∏∂‡∏á‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô‡∏ô‡∏≤‡∏£‡∏¥‡∏ï‡∏∞</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üöó</span>
                            <span>‡∏£‡∏±‡∏ö‡∏£‡∏ñ‡πÄ‡∏ä‡πà‡∏≤ & ‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏π‡πà‡πÇ‡∏ï‡πÄ‡∏Å‡∏µ‡∏¢‡∏ß</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üè®</span>
                            <span>‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô: ‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°‡πÉ‡∏ô‡∏ä‡∏¥‡∏ö‡∏π‡∏¢‡∏≤</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üçú</span>
                            <span>‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô & ‡∏ó‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏¢‡πá‡∏ô‡∏¢‡πà‡∏≤‡∏ô‡∏ä‡∏¥‡∏ö‡∏π‡∏¢‡∏≤</span>
                        </div>
                    </div>
                    <div class="route-info">
                        üìç ‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á: ‡∏ô‡∏≤‡∏£‡∏¥‡∏ï‡∏∞ ‚Üí ‡∏ä‡∏¥‡∏ö‡∏π‡∏¢‡∏≤ (60 ‡∏Å‡∏°. | 1.5 ‡∏ä‡∏°.)</div>
                </div>

                <div class="day-card" data-day="2">
                    <div class="day-header">
                        <div class="day-number">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 2</div>
                        <div class="day-date">5 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° - ‡∏™‡∏≥‡∏£‡∏ß‡∏à‡πÇ‡∏ï‡πÄ‡∏Å‡∏µ‡∏¢‡∏ß</div>
                    </div>
                    <div class="activities">
                        <div class="activity">
                            <span class="activity-icon">üèØ</span>
                            <span>‡πÄ‡∏ä‡πâ‡∏≤: ‡∏ß‡∏±‡∏î‡πÄ‡∏ã‡πá‡∏ô‡πÇ‡∏ã‡∏à‡∏¥ (‡∏≠‡∏≤‡∏ã‡∏≤‡∏Å‡∏∏‡∏™‡∏∞)</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üóº</span>
                            <span>‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô: Tokyo Skytree</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üõçÔ∏è</span>
                            <span>‡∏ö‡πà‡∏≤‡∏¢: ‡∏ä‡πá‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á‡∏¢‡πà‡∏≤‡∏ô‡∏Æ‡∏≤‡∏£‡∏≤‡∏à‡∏π‡∏Å‡∏∏</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üåÉ</span>
                            <span>‡πÄ‡∏¢‡πá‡∏ô: ‡∏ä‡∏°‡∏ß‡∏¥‡∏ß‡∏à‡∏≤‡∏Å‡πÇ‡∏ï‡πÄ‡∏Å‡∏µ‡∏¢‡∏ß‡∏™‡∏Å‡∏≤‡∏¢‡∏ó‡∏£‡∏µ</span>
                        </div>
                    </div>
                    <div class="route-info">
                        üìç ‡∏ä‡∏¥‡∏ö‡∏π‡∏¢‡∏≤ ‚Üí ‡∏≠‡∏≤‡∏ã‡∏≤‡∏Å‡∏∏‡∏™‡∏∞ ‚Üí ‡∏Æ‡∏≤‡∏£‡∏≤‡∏à‡∏π‡∏Å‡∏∏ ‚Üí ‡∏Å‡∏•‡∏±‡∏ö‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°</div>
                </div>

                <div class="day-card" data-day="3">
                    <div class="day-header">
                        <div class="day-number">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 3</div>
                        <div class="day-date">6 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° - ‡∏ü‡∏π‡∏à‡∏¥ & ‡∏ö‡πâ‡∏≤‡∏ô‡∏ú‡∏µ‡∏™‡∏¥‡∏á</div>
                    </div>
                    <div class="activities">
                        <div class="activity">
                            <span class="activity-icon">üóª</span>
                            <span>‡πÄ‡∏ä‡πâ‡∏≤: ‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏π‡πà‡∏†‡∏π‡πÄ‡∏Ç‡∏≤‡∏ü‡∏π‡∏à‡∏¥</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üèûÔ∏è</span>
                            <span>‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô: ‡∏ó‡∏∞‡πÄ‡∏•‡∏™‡∏≤‡∏ö‡∏Ñ‡∏≤‡∏ß‡∏≤‡∏Å‡∏∏‡∏à‡∏¥‡πÇ‡∏Å‡∏∞</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üëª</span>
                            <span>‡∏ö‡πà‡∏≤‡∏¢: Fuji-Q Highland (‡∏ö‡πâ‡∏≤‡∏ô‡∏ú‡∏µ‡∏™‡∏¥‡∏á)</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üé¢</span>
                            <span>‡πÄ‡∏¢‡πá‡∏ô: ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏∏‡∏î‡∏´‡∏•‡∏≠‡∏ô</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üè®</span>
                            <span>‡∏û‡∏±‡∏Å‡∏Ñ‡πâ‡∏≤‡∏á‡∏Ñ‡∏∑‡∏ô: ‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°‡πÉ‡∏Å‡∏•‡πâ‡∏ü‡∏π‡∏à‡∏¥</span>
                        </div>
                    </div>
                    <div class="special-highlight">
                        üéÉ ‡∏ö‡πâ‡∏≤‡∏ô‡∏ú‡∏µ‡∏™‡∏¥‡∏á‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: Fuji-Q Highland - Do-Dodonpa & Takabisha
                    </div>
                    <div class="route-info">
                        üìç ‡πÇ‡∏ï‡πÄ‡∏Å‡∏µ‡∏¢‡∏ß ‚Üí ‡∏ü‡∏π‡∏à‡∏¥ (120 ‡∏Å‡∏°. | 2 ‡∏ä‡∏°.)</div>
                </div>

                <div class="day-card" data-day="4">
                    <div class="day-header">
                        <div class="day-number">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 4</div>
                        <div class="day-date">7 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° - ‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏™‡∏π‡πà‡πÇ‡∏≠‡∏ã‡∏≤‡∏Å‡πâ‡∏≤</div>
                    </div>
                    <div class="activities">
                        <div class="activity">
                            <span class="activity-icon">üöó</span>
                            <span>‡πÄ‡∏ä‡πâ‡∏≤: ‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏ü‡∏π‡∏à‡∏¥ ‚Üí ‡πÇ‡∏≠‡∏ã‡∏≤‡∏Å‡πâ‡∏≤</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üè∞</span>
                            <span>‡∏ö‡πà‡∏≤‡∏¢: ‡∏õ‡∏£‡∏≤‡∏™‡∏≤‡∏ó‡πÇ‡∏≠‡∏ã‡∏≤‡∏Å‡πâ‡∏≤</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üçú</span>
                            <span>‡πÄ‡∏¢‡πá‡∏ô: ‡∏ï‡∏•‡∏≤‡∏î‡πÇ‡∏î‡∏ó‡∏á‡πÇ‡∏ö‡∏£‡∏¥</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üè®</span>
                            <span>‡πÄ‡∏ä‡πá‡∏Ñ‡∏≠‡∏¥‡∏ô: ‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°‡πÉ‡∏ô‡πÇ‡∏≠‡∏ã‡∏≤‡∏Å‡πâ‡∏≤</span>
                        </div>
                    </div>
                    <div class="route-info">
                        üìç ‡∏ü‡∏π‡∏à‡∏¥ ‚Üí ‡πÇ‡∏≠‡∏ã‡∏≤‡∏Å‡πâ‡∏≤ (400 ‡∏Å‡∏°. | 4.5 ‡∏ä‡∏°.)</div>
                </div>

                <div class="day-card special-day" data-day="5">
                    <div class="day-header">
                        <div class="day-number">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 5</div>
                        <div class="day-date">8 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° - Disney Day! üè∞</div>
                    </div>
                    <div class="activities">
                        <div class="activity">
                            <span class="activity-icon">üè∞</span>
                            <span>‡πÄ‡∏ï‡πá‡∏°‡∏ß‡∏±‡∏ô: Tokyo Disneyland/DisneySea</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üéÜ</span>
                            <span>‡πÄ‡∏¢‡πá‡∏ô: Fireworks Show</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üöó</span>
                            <span>‡∏Å‡∏•‡∏±‡∏ö‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°‡∏î‡∏∂‡∏Å</span>
                        </div>
                    </div>
                    <div class="special-highlight">
                        ‚ú® ‡∏ß‡∏±‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏© Disney! ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡πâ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡πÄ‡∏ä‡πâ‡∏≤‡∏ï‡∏£‡∏π‡πà
                    </div>
                    <div class="route-info">
                        üìç ‡πÇ‡∏≠‡∏ã‡∏≤‡∏Å‡πâ‡∏≤ ‚Üí ‡πÇ‡∏ï‡πÄ‡∏Å‡∏µ‡∏¢‡∏ß ‚Üí Disney (550 ‡∏Å‡∏°. | 5.5 ‡∏ä‡∏°.)</div>
                </div>

                <div class="day-card special-day" data-day="6">
                    <div class="day-header">
                        <div class="day-number">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 6</div>
                        <div class="day-date">9 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° - Harry Potter Day! ‚ö°</div>
                    </div>
                    <div class="activities">
                        <div class="activity">
                            <span class="activity-icon">‚ö°</span>
                            <span>‡πÄ‡∏ï‡πá‡∏°‡∏ß‡∏±‡∏ô: Universal Studios Japan</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üè∞</span>
                            <span>Wizarding World of Harry Potter</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üç∫</span>
                            <span>‡∏î‡∏∑‡πà‡∏° Butterbeer</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üõçÔ∏è</span>
                            <span>‡∏ä‡πá‡∏≠‡∏õ‡∏Ç‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏•‡∏∂‡∏Å</span>
                        </div>
                    </div>
                    <div class="special-highlight">
                        üßô‚Äç‚ôÇÔ∏è ‡∏ß‡∏±‡∏ô‡πÄ‡∏ß‡∏ó‡∏°‡∏ô‡∏ï‡∏£‡πå! ‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡∏ã‡∏∑‡πâ‡∏≠ Universal Express Pass
                    </div>
                    <div class="route-info">
                        üìç ‡πÇ‡∏ï‡πÄ‡∏Å‡∏µ‡∏¢‡∏ß ‚Üí ‡πÇ‡∏≠‡∏ã‡∏≤‡∏Å‡πâ‡∏≤ USJ (550 ‡∏Å‡∏°. | 5.5 ‡∏ä‡∏°.)</div>
                </div>

                <div class="day-card" data-day="7">
                    <div class="day-header">
                        <div class="day-number">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà 7</div>
                        <div class="day-date">10 ‡∏ò‡∏±‡∏ô‡∏ß‡∏≤‡∏Ñ‡∏° - ‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏•‡∏±‡∏ö</div>
                    </div>
                    <div class="activities">
                        <div class="activity">
                            <span class="activity-icon">üõçÔ∏è</span>
                            <span>‡πÄ‡∏ä‡πâ‡∏≤: ‡∏ä‡πá‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á‡∏ô‡∏≤‡∏Ñ‡∏≤‡∏ï‡∏£‡∏á‡∏ô‡∏¥‡∏™</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">üöó</span>
                            <span>‡∏Ñ‡∏∑‡∏ô‡∏£‡∏ñ‡πÄ‡∏ä‡πà‡∏≤</span>
                        </div>
                        <div class="activity">
                            <span class="activity-icon">‚úàÔ∏è</span>
                            <span>‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏ó‡∏¢</span>
                        </div>
                    </div>
                    <div class="route-info">
                        üìç ‡πÇ‡∏≠‡∏ã‡∏≤‡∏Å‡πâ‡∏≤ ‚Üí ‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô‡∏Ñ‡∏±‡∏ô‡πÑ‡∏ã (50 ‡∏Å‡∏°. | 1 ‡∏ä‡∏°.)</div>
                </div>
            </div>

            <div class="map-section">
                <h2>üó∫Ô∏è ‡πÅ‡∏ú‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á</h2>
                <div id="map"></div>
                <div class="warning">
                    üí° ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏î‡∏¥‡∏ô‡∏ó‡∏≤‡∏á<br>
                    üìç ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏à‡∏∏‡∏î‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß‡∏ö‡∏ô‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á
                </div>
            </div>
        </div>

        <div class="budget-section">
            <h2>üí∞ ‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢ (‡πÅ‡∏ö‡∏ö Real-time)</h2>
            
            <div class="calculator-container">
                <div class="input-section">
                    <h3>üîß ‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢</h3>
                    
                    <div class="reset-button-container">
                        <button onclick="resetBudget()" class="reset-button">üîÑ ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</button>
                    </div>
                    
                    <div class="calculator-grid">
                        <div class="calc-card">
                            <label>‚úàÔ∏è ‡∏ï‡∏±‡πã‡∏ß‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏¥‡∏ô (‡∏ö‡∏≤‡∏ó/‡∏Ñ‡∏ô)</label>
                            <input type="range" id="flight-cost" min="10000" max="30000" value="17500" oninput="updateBudget()">
                            <div class="value-display" id="flight-value">17,500 ‡∏ö‡∏≤‡∏ó</div>
                        </div>
                        
                        <div class="calc-card">
                            <label>üè® ‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å (‡∏ö‡∏≤‡∏ó/‡∏Ñ‡∏ô/‡∏Ñ‡∏∑‡∏ô)</label>
                            <input type="range" id="hotel-cost" min="800" max="2000" value="1200" oninput="updateBudget()">
                            <div class="value-display" id="hotel-value">1,200 ‡∏ö‡∏≤‡∏ó √ó 6 ‡∏Ñ‡∏∑‡∏ô</div>
                        </div>
                        
                        <div class="calc-card">
                            <label>üöó ‡∏£‡∏ñ‡πÄ‡∏ä‡πà‡∏≤+‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô (‡∏ö‡∏≤‡∏ó/‡∏ß‡∏±‡∏ô √∑ 6 ‡∏Ñ‡∏ô)</label>
                            <input type="range" id="car-cost" min="2000" max="5000" value="3000" oninput="updateBudget()">
                            <div class="value-display" id="car-value">3,000 ‡∏ö‡∏≤‡∏ó √∑ 6 ‡∏Ñ‡∏ô</div>
                        </div>
                        
                        <div class="calc-card">
                            <label>üé¢ ‡∏ö‡∏±‡∏ï‡∏£‡∏™‡∏ß‡∏ô‡∏™‡∏ô‡∏∏‡∏Å (‡∏ö‡∏≤‡∏ó/‡∏Ñ‡∏ô)</label>
                            <input type="range" id="ticket-cost" min="3000" max="8000" value="5000" oninput="updateBudget()">
                            <div class="value-display" id="ticket-value">5,000 ‡∏ö‡∏≤‡∏ó</div>
                        </div>
                        
                        <div class="calc-card">
                            <label>üçú ‡∏≠‡∏≤‡∏´‡∏≤‡∏£ (‡∏ö‡∏≤‡∏ó/‡∏Ñ‡∏ô/‡∏ß‡∏±‡∏ô)</label>
                            <input type="range" id="food-cost" min="300" max="800" value="500" oninput="updateBudget()">
                            <div class="value-display" id="food-value">500 ‡∏ö‡∏≤‡∏ó √ó 6 ‡∏ß‡∏±‡∏ô</div>
                        </div>
                        
                        <div class="calc-card">
                            <label>üõçÔ∏è ‡∏ä‡πá‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á+‡∏≠‡∏∑‡πà‡∏ô‡πÜ (‡∏ö‡∏≤‡∏ó/‡∏Ñ‡∏ô)</label>
                            <input type="range" id="shopping-cost" min="500" max="5000" value="1500" oninput="updateBudget()">
                            <div class="value-display" id="shopping-value">1,500 ‡∏ö‡∏≤‡∏ó</div>
                        </div>
                    </div>
                </div>
                
                <div class="result-section">
                    <h3>üìä ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</h3>
                    
                    <div class="total-display">
                        <div class="total-per-person">
                            <h4>üí∞ ‡∏ï‡πà‡∏≠‡∏Ñ‡∏ô</h4>
                            <div class="big-number" id="total-per-person">32,700 ‡∏ö‡∏≤‡∏ó</div>
                        </div>
                        
                        <div class="total-group">
                            <h4>üë• ‡∏£‡∏ß‡∏° 6 ‡∏Ñ‡∏ô</h4>
                            <div class="big-number" id="total-group">196,200 ‡∏ö‡∏≤‡∏ó</div>
                        </div>
                    </div>
                    
                    <div class="budget-status" id="budget-status">
                        <div class="status-good">‚úÖ ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 30,000-40,000 ‡∏ö‡∏≤‡∏ó/‡∏Ñ‡∏ô</div>
                    </div>
                    
                    <div class="breakdown-chart" id="breakdown-chart">
                        <h4>üìà ‡∏™‡∏±‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢</h4>
                        <div class="chart-container">
                            <div class="chart-bar">
                                <div class="bar flight-bar" style="width: 53.5%"></div>
                                <span>‚úàÔ∏è ‡∏ï‡∏±‡πã‡∏ß‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏¥‡∏ô: 53.5%</span>
                            </div>
                            <div class="chart-bar">
                                <div class="bar hotel-bar" style="width: 22.0%"></div>
                                <span>üè® ‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å: 22.0%</span>
                            </div>
                            <div class="chart-bar">
                                <div class="bar ticket-bar" style="width: 15.3%"></div>
                                <span>üé¢ ‡∏™‡∏ß‡∏ô‡∏™‡∏ô‡∏∏‡∏Å: 15.3%</span>
                            </div>
                            <div class="chart-bar">
                                <div class="bar food-bar" style="width: 9.2%"></div>
                                <span>üçú ‡∏≠‡∏≤‡∏´‡∏≤‡∏£: 9.2%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize map with English map tiles
        var map = L.map('map').setView([35.6762, 139.6503], 6);
        
        // Use CartoDB Positron tiles for English labels
        L.tileLayer('https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',
            subdomains: 'abcd',
            maxZoom: 19
        }).addTo(map);

        // Define locations
        const locations = {
            narita: [35.7720, 140.3929],
            shibuya: [35.6598, 139.7006],
            asakusa: [35.7148, 139.7967],
            skytree: [35.7101, 139.8107],
            harajuku: [35.6702, 139.7026],
            fuji: [35.3606, 138.7274],
            fujiq: [35.4884, 138.7785],
            osaka: [34.6937, 135.5023],
            osakaCastle: [34.6873, 135.5262],
            dotonbori: [34.6685, 135.5018],
            disney: [35.6329, 139.8804],
            usj: [34.6658, 135.4320],
            kansai: [34.4347, 135.2440]
        };

        // Day routes with distances and travel times
        const dayRoutes = {
            1: {
                route: [locations.narita, locations.shibuya],
                distances: ["60 km"],
                times: ["1.5 hours"],
                segments: ["Narita Airport ‚Üí Shibuya"]
            },
            2: {
                route: [locations.shibuya, locations.asakusa, locations.skytree, locations.harajuku, locations.shibuya],
                distances: ["12 km", "3 km", "8 km", "6 km"],
                times: ["30 min", "10 min", "25 min", "20 min"],
                segments: ["Shibuya ‚Üí Asakusa", "Asakusa ‚Üí Tokyo Skytree", "Skytree ‚Üí Harajuku", "Harajuku ‚Üí Shibuya"]
            },
            3: {
                route: [locations.shibuya, locations.fuji, locations.fujiq],
                distances: ["120 km", "15 km"],
                times: ["2 hours", "30 min"],
                segments: ["Shibuya ‚Üí Mount Fuji", "Mount Fuji ‚Üí Fuji-Q Highland"]
            },
            4: {
                route: [locations.fujiq, locations.osaka, locations.osakaCastle, locations.dotonbori],
                distances: ["400 km", "5 km", "2 km"],
                times: ["4.5 hours", "15 min", "10 min"],
                segments: ["Fuji-Q ‚Üí Osaka", "Osaka ‚Üí Osaka Castle", "Castle ‚Üí Dotonbori"]
            },
            5: {
                route: [locations.osaka, locations.disney],
                distances: ["550 km"],
                times: ["5.5 hours"],
                segments: ["Osaka ‚Üí Tokyo Disney Resort"]
            },
            6: {
                route: [locations.disney, locations.usj],
                distances: ["550 km"],
                times: ["5.5 hours"],
                segments: ["Disney ‚Üí Universal Studios Japan"]
            },
            7: {
                route: [locations.usj, locations.kansai],
                distances: ["50 km"],
                times: ["1 hour"],
                segments: ["USJ ‚Üí Kansai Airport"]
            }
        };

        // Day colors
        const dayColors = {
            1: '#3498db',
            2: '#e74c3c',
            3: '#f39c12',
            4: '#2ecc71',
            5: '#9b59b6',
            6: '#1abc9c',
            7: '#34495e'
        };

        let currentPolyline = null;
        let currentMarkers = [];

        function showRoute(day) {
            // Clear existing route
            if (currentPolyline) {
                map.removeLayer(currentPolyline);
            }
            currentMarkers.forEach(marker => map.removeLayer(marker));
            currentMarkers = [];

            // Show new route
            const routeData = dayRoutes[day];
            const color = dayColors[day];
            
            if (routeData && routeData.route) {
                const route = routeData.route;
                
                currentPolyline = L.polyline(route, {
                    color: color,
                    weight: 4,
                    opacity: 0.8
                }).addTo(map);

                // Add markers with location names
                route.forEach((location, index) => {
                    const locationKey = Object.keys(locations).find(key => 
                        locations[key][0] === location[0] && locations[key][1] === location[1]
                    );
                    
                    const marker = L.circleMarker(location, {
                        color: color,
                        fillColor: color,
                        fillOpacity: 0.7,
                        radius: 8
                    }).addTo(map);
                    currentMarkers.push(marker);
                    
                    if (locationKey && locationNames[locationKey]) {
                        marker.bindPopup(`<strong>${locationNames[locationKey]}</strong><br>Day ${day} - Stop ${index + 1}`);
                    }
                });

                // Add distance and time labels on route segments
                for (let i = 0; i < route.length - 1; i++) {
                    const start = route[i];
                    const end = route[i + 1];
                    const midPoint = [(start[0] + end[0]) / 2, (start[1] + end[1]) / 2];
                    
                    if (routeData.distances && routeData.distances[i] && routeData.times && routeData.times[i]) {
                        const distanceMarker = L.marker(midPoint, {
                            icon: L.divIcon({
                                className: 'distance-label',
                                html: `<div style="background: white; padding: 4px 8px; border-radius: 15px; border: 2px solid ${color}; font-size: 11px; font-weight: bold; text-align: center; box-shadow: 0 2px 5px rgba(0,0,0,0.2);">
                                        <div style="color: ${color};">${routeData.distances[i]}</div>
                                        <div style="color: #666; font-size: 9px;">${routeData.times[i]}</div>
                                       </div>`,
                                iconSize: [60, 40],
                                iconAnchor: [30, 20]
                            })
                        }).addTo(map);
                        currentMarkers.push(distanceMarker);
                        
                        if (routeData.segments && routeData.segments[i]) {
                            distanceMarker.bindPopup(`<strong>${routeData.segments[i]}</strong><br>Distance: ${routeData.distances[i]}<br>Travel Time: ${routeData.times[i]}`);
                        }
                    }
                }

                // Fit map to route
                map.fitBounds(currentPolyline.getBounds(), {padding: [20, 20]});
            }
        }

        // Add click events to day cards
        document.querySelectorAll('.day-card').forEach(card => {
            card.addEventListener('click', function() {
                // Remove active class from all cards
                document.querySelectorAll('.day-card').forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked card
                this.classList.add('active');
                
                // Show route for this day
                const day = parseInt(this.getAttribute('data-day'));
                showRoute(day);
            });
        });

        // Location names in English
        const locationNames = {
            narita: 'Narita Airport',
            shibuya: 'Shibuya',
            asakusa: 'Asakusa (Sensoji Temple)',
            skytree: 'Tokyo Skytree',
            harajuku: 'Harajuku',
            fuji: 'Mount Fuji',
            fujiq: 'Fuji-Q Highland',
            osaka: 'Osaka',
            osakaCastle: 'Osaka Castle',
            dotonbori: 'Dotonbori',
            disney: 'Tokyo Disney Resort',
            usj: 'Universal Studios Japan',
            kansai: 'Kansai Airport'
        };

        // Show all locations on initial load
        Object.entries(locations).forEach(([key, coords]) => {
            L.circleMarker(coords, {
                color: '#34495e',
                fillColor: '#ecf0f1',
                fillOpacity: 0.7,
                radius: 6
            }).addTo(map).bindPopup(locationNames[key]);
        });

        // Budget calculator function with URL parameter storage
        function updateBudget() {
            // Get slider values
            const flightCost = parseInt(document.getElementById('flight-cost').value);
            const hotelCost = parseInt(document.getElementById('hotel-cost').value);
            const carCost = parseInt(document.getElementById('car-cost').value);
            const ticketCost = parseInt(document.getElementById('ticket-cost').value);
            const foodCost = parseInt(document.getElementById('food-cost').value);
            const shoppingCost = parseInt(document.getElementById('shopping-cost').value);
            
            // Save to URL parameters
            const params = new URLSearchParams();
            params.set('flight', flightCost);
            params.set('hotel', hotelCost);
            params.set('car', carCost);
            params.set('ticket', ticketCost);
            params.set('food', foodCost);
            params.set('shopping', shoppingCost);
            
            // Update URL without refreshing page
            const newUrl = window.location.pathname + '?' + params.toString();
            window.history.replaceState({}, '', newUrl);
            
            // Update display values
            document.getElementById('flight-value').textContent = flightCost.toLocaleString() + ' ‡∏ö‡∏≤‡∏ó';
            document.getElementById('hotel-value').textContent = hotelCost.toLocaleString() + ' ‡∏ö‡∏≤‡∏ó √ó 6 ‡∏Ñ‡∏∑‡∏ô';
            document.getElementById('car-value').textContent = carCost.toLocaleString() + ' ‡∏ö‡∏≤‡∏ó √∑ 6 ‡∏Ñ‡∏ô';
            document.getElementById('ticket-value').textContent = ticketCost.toLocaleString() + ' ‡∏ö‡∏≤‡∏ó';
            document.getElementById('food-value').textContent = foodCost.toLocaleString() + ' ‡∏ö‡∏≤‡∏ó √ó 6 ‡∏ß‡∏±‡∏ô';
            document.getElementById('shopping-value').textContent = shoppingCost.toLocaleString() + ' ‡∏ö‡∏≤‡∏ó';
            
            // Calculate totals per person
            const hotelTotal = hotelCost * 6; // 6 nights
            const carTotal = (carCost * 6) / 6; // 6 days divided by 6 people
            const foodTotal = foodCost * 6; // 6 days
            
            const totalPerPerson = flightCost + hotelTotal + carTotal + ticketCost + foodTotal + shoppingCost;
            const totalGroup = totalPerPerson * 6;
            
            // Update total displays
            document.getElementById('total-per-person').textContent = totalPerPerson.toLocaleString() + ' ‡∏ö‡∏≤‡∏ó';
            document.getElementById('total-group').textContent = totalGroup.toLocaleString() + ' ‡∏ö‡∏≤‡∏ó';
            
            // Update budget status
            const budgetStatus = document.getElementById('budget-status');
            if (totalPerPerson <= 40000) {
                budgetStatus.innerHTML = '<div class="status-good">‚úÖ ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì 30,000-40,000 ‡∏ö‡∏≤‡∏ó/‡∏Ñ‡∏ô</div>';
            } else if (totalPerPerson <= 45000) {
                budgetStatus.innerHTML = '<div class="status-warning">‚ö†Ô∏è ‡πÄ‡∏Å‡∏¥‡∏ô‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ (' + totalPerPerson.toLocaleString() + ' ‡∏ö‡∏≤‡∏ó/‡∏Ñ‡∏ô)</div>';
            } else {
                budgetStatus.innerHTML = '<div class="status-danger">‚ùå ‡πÄ‡∏Å‡∏¥‡∏ô‡∏á‡∏ö‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡∏°‡∏≤‡∏Å (' + totalPerPerson.toLocaleString() + ' ‡∏ö‡∏≤‡∏ó/‡∏Ñ‡∏ô)</div>';
            }
            
            // Update chart percentages
            const flightPercent = (flightCost / totalPerPerson * 100).toFixed(1);
            const hotelPercent = (hotelTotal / totalPerPerson * 100).toFixed(1);
            const carPercent = (carTotal / totalPerPerson * 100).toFixed(1);
            const ticketPercent = (ticketCost / totalPerPerson * 100).toFixed(1);
            const foodPercent = (foodTotal / totalPerPerson * 100).toFixed(1);
            const shoppingPercent = (shoppingCost / totalPerPerson * 100).toFixed(1);
            
            // Update chart
            const chartContainer = document.querySelector('.chart-container');
            chartContainer.innerHTML = `
                <div class="chart-bar">
                    <div class="bar flight-bar" style="width: ${flightPercent}%"></div>
                    <span>‚úàÔ∏è ‡∏ï‡∏±‡πã‡∏ß‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏¥‡∏ô: ${flightPercent}% (${flightCost.toLocaleString()} ‡∏ö‡∏≤‡∏ó)</span>
                </div>
                <div class="chart-bar">
                    <div class="bar hotel-bar" style="width: ${hotelPercent}%"></div>
                    <span>üè® ‡∏ó‡∏µ‡πà‡∏û‡∏±‡∏Å: ${hotelPercent}% (${hotelTotal.toLocaleString()} ‡∏ö‡∏≤‡∏ó)</span>
                </div>
                <div class="chart-bar">
                    <div class="bar ticket-bar" style="width: ${ticketPercent}%"></div>
                    <span>üé¢ ‡∏™‡∏ß‡∏ô‡∏™‡∏ô‡∏∏‡∏Å: ${ticketPercent}% (${ticketCost.toLocaleString()} ‡∏ö‡∏≤‡∏ó)</span>
                </div>
                <div class="chart-bar">
                    <div class="bar food-bar" style="width: ${foodPercent}%"></div>
                    <span>üçú ‡∏≠‡∏≤‡∏´‡∏≤‡∏£: ${foodPercent}% (${foodTotal.toLocaleString()} ‡∏ö‡∏≤‡∏ó)</span>
                </div>
                <div class="chart-bar">
                    <div class="bar car-bar" style="width: ${carPercent}%"></div>
                    <span>üöó ‡∏£‡∏ñ‡πÄ‡∏ä‡πà‡∏≤: ${carPercent}% (${carTotal.toLocaleString()} ‡∏ö‡∏≤‡∏ó)</span>
                </div>
                <div class="chart-bar">
                    <div class="bar shopping-bar" style="width: ${shoppingPercent}%"></div>
                    <span>üõçÔ∏è ‡∏ä‡πá‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á: ${shoppingPercent}% (${shoppingCost.toLocaleString()} ‡∏ö‡∏≤‡∏ó)</span>
                </div>
            `;
        }

        // Load saved budget data from URL parameters
        function loadBudgetData() {
            const urlParams = new URLSearchParams(window.location.search);
            
            // Set default values
            const defaultValues = {
                flight: 17500,
                hotel: 1200,
                car: 3000,
                ticket: 5000,
                food: 500,
                shopping: 1500
            };
            
            // Get values from URL or use defaults
            const budgetData = {
                flight: parseInt(urlParams.get('flight')) || defaultValues.flight,
                hotel: parseInt(urlParams.get('hotel')) || defaultValues.hotel,
                car: parseInt(urlParams.get('car')) || defaultValues.car,
                ticket: parseInt(urlParams.get('ticket')) || defaultValues.ticket,
                food: parseInt(urlParams.get('food')) || defaultValues.food,
                shopping: parseInt(urlParams.get('shopping')) || defaultValues.shopping
            };
            
            // Set slider values
            document.getElementById('flight-cost').value = budgetData.flight;
            document.getElementById('hotel-cost').value = budgetData.hotel;
            document.getElementById('car-cost').value = budgetData.car;
            document.getElementById('ticket-cost').value = budgetData.ticket;
            document.getElementById('food-cost').value = budgetData.food;
            document.getElementById('shopping-cost').value = budgetData.shopping;
        }

        // Save current settings as a bookmark
        function saveAsBookmark() {
            const currentUrl = window.location.href;
            const bookmarkName = 'Japan Trip Budget - ' + new Date().toLocaleDateString('th-TH');
            
            // Show popup with instructions
            const popup = document.createElement('div');
            popup.innerHTML = `
                <div style="position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); 
                           background: white; padding: 30px; border-radius: 15px; 
                           box-shadow: 0 10px 30px rgba(0,0,0,0.3); z-index: 9999;
                           max-width: 500px; text-align: center;">
                    <h3 style="color: #2c3e50; margin-bottom: 15px;">üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</h3>
                    <p style="margin-bottom: 20px;">URL ‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏•‡πâ‡∏ß!</p>
                    <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; 
                              word-break: break-all; font-size: 12px; margin: 15px 0;">
                        ${currentUrl}
                    </div>
                    <p style="margin: 15px 0; font-size: 14px; color: #666;">
                        ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å URL ‡∏ô‡∏µ‡πâ‡∏´‡∏£‡∏∑‡∏≠‡∏ö‡∏∏‡πä‡∏Ñ‡∏°‡∏≤‡∏£‡πå‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
                    </p>
                    <div style="display: flex; gap: 10px; justify-content: center;">
                        <button onclick="copyToClipboard('${currentUrl}')" 
                                style="background: #3498db; color: white; border: none; 
                                       padding: 10px 20px; border-radius: 5px; cursor: pointer;">
                            üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å URL
                        </button>
                        <button onclick="this.parentElement.parentElement.parentElement.remove()" 
                                style="background: #95a5a6; color: white; border: none; 
                                       padding: 10px 20px; border-radius: 5px; cursor: pointer;">
                            ‡∏õ‡∏¥‡∏î
                        </button>
                    </div>
                </div>
                <div style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
                           background: rgba(0,0,0,0.5); z-index: 9998;"
                     onclick="this.nextElementSibling.remove(); this.remove();"></div>
            `;
            document.body.appendChild(popup);
        }

        // Copy to clipboard function
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('üìã ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å URL ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢! ‡∏ß‡∏≤‡∏á URL ‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏ö‡∏∏‡πä‡∏Ñ‡∏°‡∏≤‡∏£‡πå‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤');
            }).catch(() => {
                alert('‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å‡πÑ‡∏î‡πâ ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å URL ‡∏à‡∏≤‡∏î address bar');
            });
        }

        // Reset budget to defaults
        function resetBudget() {
            document.getElementById('flight-cost').value = 17500;
            document.getElementById('hotel-cost').value = 1200;
            document.getElementById('car-cost').value = 3000;
            document.getElementById('ticket-cost').value = 5000;
            document.getElementById('food-cost').value = 500;
            document.getElementById('shopping-cost').value = 1500;
            
            // Clear URL parameters
            window.history.replaceState({}, '', window.location.pathname);
            updateBudget();
        }

        // Show day 1 route by default
        showRoute(1);
        document.querySelector('[data-day="1"]').classList.add('active');
        
        // Initialize budget calculator
        loadBudgetData();
        updateBudget();
    </script>
</body>
</html>
